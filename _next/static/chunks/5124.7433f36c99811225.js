"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5124],{95124:function(e,t,i){i.r(t),i.d(t,{default:function(){return T}});var l=i(52322),a=i(2784),o=i(30171),r=i(72558),n=i(50592),d=i(23917),s=i(67205),c=i(17129),u=i(75926),v=i(6687),y=i(9997),m=i(37179),h=i(92557),p=i(83520),E=i(33649),S=i(45420),g=i(12769),R=i(87918),x=i(32475),k=i(98197),L=i(94006),f=i(77151),w=i(48756),b=i(89170),O=e=>{let{value:t,handleOnChange:i,disabled:a,balance:o,tokens:r,handleMaxClick:d}=e,[s,c]=(0,n.hQ)(),u=()=>{var e;return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:s({color:c.colors.accent200,borderRight:"1px solid ".concat(c.colors.white),paddingRight:"5px",":hover":{color:null==c?void 0:null===(e=c.colors)||void 0===e?void 0:e.listBodyFill},marginRight:"5px"}),onClick:d,children:"MAX"}),(0,l.jsx)(b.qc,{theme:c,children:"LP"}),"\xa0",(0,l.jsx)(b.qc,{theme:c,children:"".concat(r[0])}),(0,l.jsx)(b.qc,{theme:c,children:"-"}),(0,l.jsx)(b.qc,{theme:c,children:"".concat(r[1])})]})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-white text-sm",children:"Amount"}),(0,l.jsx)(w.II,{value:t,type:"number",onChange:e=>{var t;return i(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},disabled:a,placeholder:"0.0",endEnhancer:()=>u(),overrides:{Root:{style:e=>{let{$theme:t}=e;return{paddingRight:"0px",borderColor:t.colors.white,borderRadius:t.borders.radius300}}},Input:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,color:c.colors.white}}},EndEnhancer:{style:e=>{let{$theme:t}=e;return{cursor:"pointer",backgroundColor:t.colors.backgroundPrimary,fontWeight:t.typography.font150.fontWeight,fontSize:c.sizing.scale600,color:c.colors.contentTertiary}}}}}),(0,l.jsxs)("div",{className:"text-white text-sm",children:["Balance:"," ",(0,l.jsx)("span",{className:s({color:c.colors.primary,cursor:"pointer"}),onClick:()=>i(o),children:o})]})]})},C=i(28589),_=i(98614),A=i(9906),T=e=>{var t,i,w,b,T;let{tokens:j}=e,{t:N}=(0,_.$G)("common"),B=(0,c.C)(u.M),[q,P]=(0,n.hQ)(),I=(0,A.pm)(),{slippage:M}=B,{library:F,account:U,chainId:V}=(0,v.aF)(),D=(0,c.C)(x.H),[Z,G]=(0,a.useState)(!1),[K,Q]=(0,a.useState)(""),[Y,z]=(0,a.useState)(0),[H,J]=(0,a.useState)(0),[W,$]=(0,a.useState)(0),[X,ee]=(0,a.useState)(),[et,ei]=(0,a.useState)(!1),[el,ea]=(0,a.useMemo)(()=>V&&g.A[V]?[0,1].map(e=>g.A[V][(0,R.Q4)(j[e])]):[0,1].map(e=>g.A[D][(0,R.Q4)(j[e])]),[j,V,D]),{data:eo}=(0,k.i)(el,ea),{loading:er,data:en}=(0,p.OJ)(null!=el?el:""),{loading:ed,data:es}=(0,p.OJ)(null!=ea?ea:""),{data:ec,refetch:eu}=(0,S.U)(null!=el?el:"",null!=ea?ea:""),{loading:ev,data:ey}=(0,p.OJ)(null==ec?void 0:ec.address),{data:em={}}=(0,d.a)(L.l,{variables:{id:null==ec?void 0:null===(t=ec.address)||void 0===t?void 0:t.toLowerCase()},skip:!(null==ec?void 0:ec.address)});(0,h.Y)(()=>{eh(),ep(),eE()},y.OO,[U,ev,er,ed]);let eh=async()=>{if(ey)try{let e=await ey.getBalance(),t=(0,E.UL)(e.toString(),ey.decimals,1/0);return z(Number(t)),t}catch(e){z(0)}},ep=async()=>{if(en)try{let e=await en.getBalance(),t=(0,E.UL)(e.toString(),en.decimals,1/0);J(Number(t))}catch(e){J(0)}},eE=async()=>{if(es)try{let e=await es.getBalance(),t=(0,E.UL)(e.toString(),es.decimals,1/0);$(Number(t))}catch(e){$(0)}},eS=(0,a.useMemo)(()=>0!==Y&&0!==X&&ey?(0,E.jE)(X,null==ey?void 0:ey.decimals,0):0,[Y,X,ev]),eg=async()=>{try{let e,t;if(!en||!es||!ec||!X||!Y||!U||!V)return;G(!0);let i=await F.getSigner(U),l=new o.CH(g.A[V].ROUTER_V2,m.Mt,i),a=en.address,n=es.address,d=new r.Z(eL).multipliedBy(new r.Z(10).exponentiatedBy(en.decimals)).multipliedBy(100-M).dividedBy(100).toFixed(0),s=new r.Z(ef).multipliedBy(new r.Z(10).exponentiatedBy(es.decimals)).multipliedBy(100-M).dividedBy(100).toFixed(0),c=await (0,y.fK)(F),u=en.isEth||es.isEth;u?(e="removeLiquidityETH",t=[a,eS,d,s,U,c]):(e="removeLiquidity",t=[a,n,eS,d,s,U,c]);let v=await (0,y.F4)(l,e,await i.getGasPrice(),...t);await v.wait(),ee(0)}catch(e){I({title:N("ERROR_MESSAGES.ERROR"),description:"".concat(N("ERROR_MESSAGES.UNABLE_TO_REMOVE_LIQUIDITY")," ").concat(e.error?": "+e.error.message:""),type:"error"})}finally{G(!1)}},eR=async()=>{try{if(ei(!0),!ec)return;let e=ec.lpTokenContract,t=await e.approve(g.A[V].ROUTER_V2,y.AN);await t.wait(),await eu(),ei(!1),I({title:N("ERROR_MESSAGES.APPROVED_LP_TOKENS_SUCCESSFULLY"),hash:t.hash,type:"success"})}catch(e){I({title:N("ERROR_MESSAGES.FAILED_TO_APPROVE"),description:e.message,type:"error"})}finally{ei(void 0)}},ex=(()=>{if(!ec||!ec.address)return!1;let e=new r.Z(ec.allowance.toString());if(e.isZero())return!0;let t=(0,E.jE)(Y,ec.decimals);return e.comparedTo(new r.Z(t))===E.Ym.LESSER})(),ek={price:{key:"Price",label:N("PRICE"),value:"".concat((null==eo?void 0:eo.conversionRate)?1*(null==eo?void 0:eo.conversionRate):"..."," ").concat(j&&j[1]," per ").concat(j&&j[0])},inverseprice:{key:"Inverse Price",label:N("INVERSE_PRICE"),value:"".concat((null==eo?void 0:eo.invertedConversionRate)?1*(null==eo?void 0:eo.invertedConversionRate):"..."," ").concat(j&&j[0]," per ").concat(j&&j[1])},tokenALocked:{key:"Total Tokens Locked  ".concat(j[0]),label:"".concat(N("TOTAL_TOKENS_LOCKED")," ").concat(j[0]),value:null==ec?void 0:null===(i=ec.reserveA)||void 0===i?void 0:i.display,css:{color:P.colors.positive}},tokenBLocked:{key:"Total Tokens Locked  ".concat(j[1]),label:"".concat(N("TOTAL_TOKENS_LOCKED")," ").concat(j[1]),value:null==ec?void 0:null===(w=ec.reserveB)||void 0===w?void 0:w.display,css:{color:P.colors.positive}},totalLiquidity:{key:"TVL",label:N("TVL"),value:"$".concat(K||0),tooltip:s.s.liquidity.tvl}},eL=(0,a.useMemo)(()=>{if(0===X||(null==ec?void 0:ec.tokenALiquidity)===0)return 0;let e=(null==ec?void 0:ec.tokenALiquidity.value)*X/100,t=parseFloat(e.toString());return null==t?void 0:t.toFixed(2)},[H,X]),ef=(0,a.useMemo)(()=>{if(0===X||(null==ec?void 0:ec.tokenBLiquidity)===0)return 0;let e=(null==ec?void 0:ec.tokenBLiquidity.value)*X/100;return parseFloat(e.toString()).toFixed(2)},[W,X]),ew=async()=>{try{var e;ee(null==ec?void 0:null===(e=ec.userLiquidity)||void 0===e?void 0:e.value)}catch(e){ee(X)}};return(0,a.useEffect)(()=>{ee(0)},[j]),(0,a.useEffect)(()=>{var e,t;Q(null!==(t=(0,E.dq)(null==em?void 0:null===(e=em.pair)||void 0===e?void 0:e.reserveUSD,2,!0))&&void 0!==t?t:"...")},[null==ec?void 0:ec.address,null==em?void 0:null===(b=em.pair)||void 0===b?void 0:b.reserveUSD]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(O,{value:X,handleOnChange:e=>{ee(e)},disabled:!ec,balance:null==ec?void 0:null===(T=ec.userLiquidity)||void 0===T?void 0:T.value,tokens:j,handleMaxClick:ew}),(0,l.jsx)(f.Z,{listOptions:ek}),(0,l.jsxs)("div",{className:"flex justify-evenly",children:[ex&&(0,l.jsx)(C.x,{variant:"default",size:"medium",variantStyle:"primary",onClick:eR,disabled:0===Number(X)||et,loading:et,children:N("APPROVE")}),(0,l.jsx)(C.x,{variant:"default",size:"medium",variantStyle:"primary",onClick:eg,disabled:0===Number(X)||0===Number(Y)||ex,loading:Z,children:N("REMOVE_LIQUIDITY")})]})]})}}}]);